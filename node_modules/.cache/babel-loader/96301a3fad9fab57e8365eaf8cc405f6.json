{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'react-bootstrap/Container';import Button from'react-bootstrap/Button';import ProgressBar from'react-bootstrap/ProgressBar';import{withRouter}from\"react-router-dom\";import Table from'react-bootstrap/Table';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import ProjectService from'../service/ProjectService.jsx';var UnitsComponent=/*#__PURE__*/function(_Component){_inherits(UnitsComponent,_Component);var _super=_createSuper(UnitsComponent);function UnitsComponent(props){var _this;_classCallCheck(this,UnitsComponent);_this=_super.call(this,props);_this.state={units:[],totals:'',stuff:'',owner:_this.props.location.state.owner};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.refreshUnits=_this.refreshUnits.bind(_assertThisInitialized(_this));return _this;}_createClass(UnitsComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshUnits();}},{key:\"refreshUnits\",value:function refreshUnits(){var _this2=this;console.log(\"Refershing this shows units \"+this.props.match.params.id);ProjectService.retrieveUnitOverview(this.props.match.params.id).then(function(response){console.log(response);console.log(response.data);_this2.setState({totals:response.data});_this2.setState({units:response.data.units});});}},{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"addUnitClicked\",value:function addUnitClicked(){// this.props.history.push(`/projects`)\nthis.props.history.push({pathname:'units/new',state:{unitId:1}});}},{key:\"unitClicked\",value:function unitClicked(unit){this.props.history.push({pathname:'unit',state:{unitId:unit.id,owner:this.state.owner}});}},{key:\"render\",value:function render(){var _this3=this;console.log(this.state.owner);return/*#__PURE__*/_jsxs(Container,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"border-bottom-custom\",children:\"Project Units\"}),this.state.owner&&/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{xs:2}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:this.addUnitClicked.bind(this),children:\"Add a New Unit\"})}),/*#__PURE__*/_jsx(Col,{xs:2})]}),/*#__PURE__*/_jsxs(Table,{className:\"mt-3\",striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Element\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Build (Hours)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Load In (Hours)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Materials\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Completion\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[this.state.units.map(function(unit){return/*#__PURE__*/_jsxs(\"tr\",{onClick:_this3.unitClicked.bind(_this3,unit),children:[/*#__PURE__*/_jsx(\"th\",{children:unit.name}),/*#__PURE__*/_jsx(\"td\",{children:unit.build}),/*#__PURE__*/_jsx(\"td\",{children:unit.loadIn}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",unit.materials]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(ProgressBar,{striped:true,now:unit.completion,label:\"\".concat(unit.completion,\"%\")})})]});}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Totals\"}),/*#__PURE__*/_jsx(\"td\",{children:this.state.totals.buildTotal}),/*#__PURE__*/_jsx(\"td\",{children:this.state.totals.loadInTotal}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",this.state.totals.materialsTotal]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(ProgressBar,{striped:true,now:this.state.totals.completion,label:\"\".concat(this.state.totals.completion,\"%\")})})]})]})]})]});}}]);return UnitsComponent;}(Component);export default withRouter(UnitsComponent);","map":{"version":3,"sources":["/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/src/component/UnitsComponent.jsx"],"names":["React","Component","Container","Button","ProgressBar","withRouter","Table","Row","Col","ProjectService","UnitsComponent","props","state","units","totals","stuff","owner","location","handleChange","bind","refreshUnits","console","log","match","params","id","retrieveUnitOverview","then","response","data","setState","event","target","name","value","history","push","pathname","unitId","unit","addUnitClicked","map","unitClicked","build","loadIn","materials","completion","buildTotal","loadInTotal","materialsTotal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container'\nimport Button from 'react-bootstrap/Button'\nimport ProgressBar from 'react-bootstrap/ProgressBar'\nimport {withRouter} from \"react-router-dom\"\nimport Table from 'react-bootstrap/Table'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport ProjectService from '../service/ProjectService.jsx'\n\nclass UnitsComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            units: [],\n            totals: '',\n            stuff: '',\n            owner: this.props.location.state.owner\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.refreshUnits = this.refreshUnits.bind(this)\n    }\n\n    componentDidMount() {\n        this.refreshUnits();\n    }\n\n\n    refreshUnits() {\n        console.log(\"Refershing this shows units \" + this.props.match.params.id)\n\n        ProjectService.retrieveUnitOverview(this.props.match.params.id)\n        .then(\n            response => {\n                console.log(response)\n                console.log(response.data)\n                this.setState({totals: response.data})\n                this.setState({units: response.data.units})\n            }\n        )\n    }\n\n    handleChange(event) {\n        this.setState(\n            {[event.target.name]: event.target.value}\n        )\n    }\n\n    addUnitClicked() {\n        // this.props.history.push(`/projects`)\n        this.props.history.push({\n            pathname: 'units/new', \n            state: { unitId: 1},\n        })\n    }\n\n    unitClicked(unit) {\n        this.props.history.push({\n            pathname: 'unit',\n            state: { unitId: unit.id,\n                owner: this.state.owner},\n        })\n    }\n\n    render() {\n        console.log(this.state.owner)\n        return (\n            <Container className=\"mt-3\">\n                \n                <h2 className=\"border-bottom-custom\">Project Units</h2>\n\n                {/* Create New Unit Button */}\n                {this.state.owner && \n                <Row className=\"mt-3\">\n                    <Col xs={2}/>\n                    <Col>\n                        <Button block onClick={this.addUnitClicked.bind(this)}>Add a New Unit</Button>\n                    </Col>\n                    <Col xs={2}/>\n                </Row>\n                }\n\n                <Table className=\"mt-3\" striped bordered hover>\n                    <thead>\n                        <tr>\n                        <th>Element</th>\n                        <th>Build (Hours)</th>\n                        <th>Load In (Hours)</th>\n                        <th>Materials</th>\n                        <th>Completion</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.state.units.map(\n                            unit =>\n                            <tr onClick={this.unitClicked.bind(this, unit)}>\n                            <th>{unit.name}</th>\n                            <td>{unit.build}</td>\n                            <td>{unit.loadIn}</td>\n                            <td>${unit.materials}</td>\n                            <td><ProgressBar striped now={unit.completion} label={`${unit.completion}%`} /></td>\n                            </tr>\n                        )\n                    } \n\n                    <tr>\n                    <th></th>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    </tr>\n\n                    <tr>\n                    <th>Totals</th>\n                    <td>{this.state.totals.buildTotal}</td>\n                    <td>{this.state.totals.loadInTotal}</td>\n                    <td>${this.state.totals.materialsTotal}</td>\n                    <td><ProgressBar striped now={this.state.totals.completion} label={`${this.state.totals.completion}%`} /></td>\n                    </tr>\n                    </tbody>\n                </Table>\n\n            </Container>\n        )\n    }\n}\n\nexport default withRouter(UnitsComponent)"]},"metadata":{},"sourceType":"module"}