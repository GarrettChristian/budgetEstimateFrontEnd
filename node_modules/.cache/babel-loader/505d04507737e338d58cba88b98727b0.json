{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthenticationService from'../service/AuthenticationService';import Form from'react-bootstrap/Form';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';var LoginComponent=/*#__PURE__*/function(_Component){_inherits(LoginComponent,_Component);var _super=_createSuper(LoginComponent);function LoginComponent(props){var _this;_classCallCheck(this,LoginComponent);_this=_super.call(this,props);_this.state={username:'',password:'',showErrorMessage:false,errorMessage:'Login Error'};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.loginClicked=_this.loginClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginComponent,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"loginClicked\",value:function loginClicked(){var _this2=this;// if(this.state.username==='user' && this.state.password==='password'){\n//     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n//     this.setState({showSuccessMessage:true})\n//     this.setState({hasLoginFailed:false})\n// }\n// else {\n//      this.setState({showSuccessMessage:false})\n//      this.setState({hasLoginFailed:true})\n// }\nAuthenticationService.executeJwtAuthenticationService(this.state.username,this.state.password).then(function(response){console.log(\"here???\");AuthenticationService.registerSuccessfulLoginForJwt(_this2.state.username,response.data.token);console.log(\"here 22???\");_this2.props.history.push(\"/projects\");console.log(\"here 23???\");}).catch(function(){_this2.setState({showErrorMessage:true});_this2.setState({errorMessage:'Login Error'});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:3}),/*#__PURE__*/_jsxs(Col,{className:\"mt-5 border-custom\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",name:\"username\",value:this.state.username,onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"md\",block:true,onClick:this.loginClicked,children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"forgot-password text-right\",children:/*#__PURE__*/_jsx(\"a\",{href:\"new/user/\",children:\"Create Account\"})}),this.state.showErrorMessage&&/*#__PURE__*/ // login error message\n_jsx(\"div\",{className:\"alert alert-warning\",role:\"alert\",children:this.state.errorMessage})]})]}),/*#__PURE__*/_jsx(Col,{xs:3})]})});}}]);return LoginComponent;}(Component);export default LoginComponent;","map":{"version":3,"sources":["/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/src/component/LoginComponent.jsx"],"names":["React","Component","AuthenticationService","Form","Container","Row","Col","Button","LoginComponent","props","state","username","password","showErrorMessage","errorMessage","handleChange","bind","loginClicked","event","setState","target","name","value","executeJwtAuthenticationService","then","response","console","log","registerSuccessfulLoginForJwt","data","token","history","push","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport AuthenticationService from '../service/AuthenticationService'\nimport Form from 'react-bootstrap/Form'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\n\nclass LoginComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            username: '',\n            password: '',\n            showErrorMessage: false,\n            errorMessage: 'Login Error'\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.loginClicked = this.loginClicked.bind(this)\n    }\n\n    handleChange(event) {\n        this.setState(\n            {\n                [event.target.name]\n                    : event.target.value\n            }\n        )\n    }\n\n    loginClicked() {\n        // if(this.state.username==='user' && this.state.password==='password'){\n        //     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n        //     this.setState({showSuccessMessage:true})\n        //     this.setState({hasLoginFailed:false})\n        // }\n        // else {\n        //      this.setState({showSuccessMessage:false})\n        //      this.setState({hasLoginFailed:true})\n        // }\n        AuthenticationService\n            .executeJwtAuthenticationService(this.state.username, this.state.password)\n            .then((response) => {\n                console.log(\"here???\")\n                AuthenticationService.registerSuccessfulLoginForJwt(this.state.username, response.data.token)\n                console.log(\"here 22???\")\n                this.props.history.push(`/projects`)\n                console.log(\"here 23???\")\n            }).catch(() => {\n                this.setState({ showErrorMessage: true })\n                this.setState({ errorMessage: 'Login Error' })\n            })\n    }\n\n    render() {\n        return (\n            <Container>\n\n                <Row>\n                    <Col xs={3}/>\n\n                    <Col className=\"mt-5 border-custom\">\n                        <h2>Login</h2>\n\n                        <Form>\n                            <Form.Group controlId=\"formGroupEmail\">\n                                <Form.Label>Email address</Form.Label>\n                                <Form.Control type=\"email\" placeholder=\"Enter email\" \n                                name=\"username\" value={this.state.username} onChange={this.handleChange}/>\n                            </Form.Group>\n                            <Form.Group controlId=\"formGroupPassword\">\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"Password\"\n                                name=\"password\" value={this.state.password} onChange={this.handleChange}/>\n                            </Form.Group>\n                            \n                            <Button variant=\"primary\" size=\"md\" block onClick={this.loginClicked}>Submit</Button>\n\n                            <p className=\"forgot-password text-right\">\n                                <a href=\"new/user/\">Create Account</a>\n                            </p>\n\n                            { this.state.showErrorMessage && // login error message\n                            <div className=\"alert alert-warning\" role=\"alert\">{this.state.errorMessage}</div>\n                            }\n                        </Form>\n\n                        \n\n                    </Col>\n\n                    <Col xs={3}/>\n                </Row>\n                \n            </Container>\n\n        )\n    }\n}\n\nexport default LoginComponent"]},"metadata":{},"sourceType":"module"}