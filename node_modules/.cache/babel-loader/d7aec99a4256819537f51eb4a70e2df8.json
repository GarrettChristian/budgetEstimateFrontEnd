{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/src/component/UnitComponent.jsx\";\nimport React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport ProjectService from '../service/ProjectService.jsx';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\nclass UnitComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      unit: '',\n      overview: '',\n      loadInList: [],\n      buildList: [],\n      materials: [],\n      owner: this.props.location.state.owner,\n      projectId: this.props.match.params.id\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.refreshUnit();\n  }\n\n  refreshUnit() {\n    ProjectService.retrieveUnit(this.props.location.state.unitId, this.state.projectId).then(response => {\n      this.setState({\n        unit: response.data\n      });\n      this.setState({\n        loadInList: response.data.subcomponents.filter(subcom => subcom.type === \"LOAD_IN\")\n      });\n      this.setState({\n        buildList: response.data.subcomponents.filter(subcom => subcom.type === \"BUILD\")\n      });\n      this.setState({\n        materials: response.data.materials\n      });\n      this.setState({\n        overview: response.data.unitOverview\n      });\n    });\n  }\n\n  deleteUnitClicked() {\n    ProjectService.deleteUnit(this.state.unit.id, this.state.projectId).then(response => {\n      if (response.data.success) {\n        console.log(\"unit was deleted successfully\");\n        this.props.history.goBack();\n      } else {\n        console.log(\"unit was not deleted succuessfully\");\n      }\n    }).catch(() => {\n      console.log(\"unit delete failed\");\n    });\n  }\n\n  markAllFinishedClicked() {\n    console.log(\"mark all complete clicked\");\n    ProjectService.markAllSubcomponentsComplete(true, this.state.unit.id).then(response => {\n      if (response.data.success) {\n        console.log(\"Marked all subcomponents complete\");\n        this.refreshUnit();\n        this.props.history.goBack();\n      } else {\n        console.log(\"Marking all subcomponents complete was not successful\");\n      }\n    }).catch(() => {\n      console.log(\"Mark all complete failed\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"border-bottom-custom\",\n        children: this.state.unit.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), this.state.owner ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: 3,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            block: true,\n            variant: \"danger\",\n            onClick: this.deleteUnitClicked.bind(this),\n            children: \"Delete Unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(Col, {\n          xs: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 3,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            block: true,\n            variant: \"success\",\n            onClick: this.markAllFinishedClicked.bind(this),\n            children: \"Mark All Finished\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"border-bottom-custom\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.unit.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"border-bottom-custom\",\n        children: \"Build\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), this.state.buildList.map(build => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Build \", build.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"border-bottom-custom\",\n        children: \"Load in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), this.state.loadInList.map(loadIn => /*#__PURE__*/_jsxDEV(Row, {\n        className: \"border-unit\",\n        style: loadIn.finished ? {\n          color: \"red\"\n        } : {\n          borderColor: \"RGB(249, 195, 19)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 9,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: loadIn.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"border-bottom-custom\",\n              children: loadIn.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"border-right\",\n              children: [\"Work Hours \", loadIn.workHours]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [\"Crew \", loadIn.numberOfCrew]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [\"Total \", loadIn.workHours * loadIn.numberOfCrew]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this), loadIn.finished ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-warning\",\n              size: \"small\",\n              children: \"Mark Unfinished\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 57\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-success\",\n              size: \"small\",\n              children: \"Mark Finished\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: loadIn.finished ? loadIn.finishedBy : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"border-bottom-custom\",\n        children: \"Materials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), this.state.materials.map(material => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"material \", material.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"material cost \", material.cost]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"material amount required \", material.amountRequired]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"vendor \", material.vendor]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UnitComponent;","map":{"version":3,"sources":["/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/src/component/UnitComponent.jsx"],"names":["React","Component","Container","ProjectService","Row","Col","Button","UnitComponent","constructor","props","state","unit","overview","loadInList","buildList","materials","owner","location","projectId","match","params","id","handleChange","bind","event","setState","target","name","value","componentDidMount","refreshUnit","retrieveUnit","unitId","then","response","data","subcomponents","filter","subcom","type","unitOverview","deleteUnitClicked","deleteUnit","success","console","log","history","goBack","catch","markAllFinishedClicked","markAllSubcomponentsComplete","render","description","map","build","loadIn","finished","color","borderColor","workHours","numberOfCrew","finishedBy","material","cost","amountRequired","vendor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container'\nimport ProjectService from '../service/ProjectService.jsx'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\n\nclass UnitComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            unit: '',\n            overview: '',\n            loadInList: [],\n            buildList: [],\n            materials: [],\n            owner: this.props.location.state.owner,\n            projectId: this.props.match.params.id\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n    }\n\n    handleChange(event) {\n        this.setState(\n            {[event.target.name]: event.target.value}\n        )\n    }\n\n    componentDidMount() {\n        this.refreshUnit();\n    }\n\n    refreshUnit() {\n        ProjectService.retrieveUnit(this.props.location.state.unitId, this.state.projectId)\n            .then(\n                response => {\n                    this.setState({ unit: response.data })\n                    this.setState({ loadInList:  response.data.subcomponents.filter(subcom => subcom.type === \"LOAD_IN\")})\n                    this.setState({ buildList:  response.data.subcomponents.filter(subcom => subcom.type === \"BUILD\")})\n                    this.setState({ materials: response.data.materials })\n                    this.setState({ overview: response.data.unitOverview })\n                }\n            )\n    }\n\n    deleteUnitClicked() {\n        ProjectService\n        .deleteUnit(this.state.unit.id, this.state.projectId)\n        .then((response) => {\n            if (response.data.success) {\n                console.log(\"unit was deleted successfully\")\n                this.props.history.goBack()\n            } else {\n                console.log(\"unit was not deleted succuessfully\")\n            }\n            \n        }).catch(() => {\n            console.log(\"unit delete failed\")\n        }) \n    }\n\n    markAllFinishedClicked() {\n        console.log(\"mark all complete clicked\")\n        ProjectService\n        .markAllSubcomponentsComplete(true, this.state.unit.id)\n        .then((response) => {\n            if (response.data.success) {\n                console.log(\"Marked all subcomponents complete\")\n                this.refreshUnit()\n                this.props.history.goBack()\n            } else {\n                console.log(\"Marking all subcomponents complete was not successful\")\n            }\n            \n        }).catch(() => {\n            console.log(\"Mark all complete failed\")\n        }) \n    }\n\n    render() {\n        \n        return (\n            <Container className=\"mt-3\">\n\n                <h2 className=\"border-bottom-custom\">{this.state.unit.name}</h2>\n\n                <Row className=\"mt-3\">\n                    <Col xs={6}/>\n                    {this.state.owner ? (\n                    <Col xs={3}>\n                        <Button block variant=\"danger\" onClick={this.deleteUnitClicked.bind(this)}>Delete Unit</Button>\n                    </Col> ) : (\n                    <Col xs={3}/>\n                    )}\n                    <Col xs={3}>\n                        <Button block variant=\"success\" onClick={this.markAllFinishedClicked.bind(this)}>Mark All Finished</Button>\n                    </Col>\n                </Row>\n\n                <h4 className=\"border-bottom-custom\">Description</h4>\n                <p>{this.state.unit.description}</p>\n\n                <h4 className=\"border-bottom-custom\">Build</h4>\n                {this.state.buildList.map(\n                        build =>\n                        <p>Build {build.name}</p>\n                    )\n                }\n\n                <h4 className=\"border-bottom-custom\">Load in</h4>\n                {this.state.loadInList.map(\n                        loadIn =>\n                        <Row className=\"border-unit\" style={loadIn.finished ? ({color: \"red\"}) : ({borderColor: \"RGB(249, 195, 19)\"})}>\n                            <Col sm={9}>\n                                <Row>\n                                    <Col sm={1}></Col>\n                                    {/* <Col><h5>{loadIn.name}</h5></Col> */}\n                                    <Col>{loadIn.name}</Col>\n                                    <Col sm={1}></Col>\n                                </Row>\n                                <Row>\n                                    <Col sm={1}></Col>\n                                    <Col className=\"border-bottom-custom\">{loadIn.description}</Col>\n                                </Row>\n                                <Row>\n                                    <Col sm={1}></Col>\n                                    <Col className=\"border-right\">Work Hours {loadIn.workHours}</Col>\n                                    <Col>Crew {loadIn.numberOfCrew}</Col>\n                                    <Col>Total {loadIn.workHours * loadIn.numberOfCrew}</Col>\n                                    <Col sm={1}></Col>\n                                </Row>\n                                {/* <Row>\n                                    <Col sm={1}></Col>\n                                    <Col>Number of Crew {loadIn.numberOfCrew}</Col>\n                                    <Col sm={1}></Col>\n                                </Row> */}\n                            </Col>\n                            <Col sm={3}>\n                                <Row>\n                                    <Col sm={1}></Col>\n                                    {loadIn.finished ? (<Button variant=\"outline-warning\" size=\"small\">Mark Unfinished</Button>)\n                                    : (<Button variant=\"outline-success\" size=\"small\">Mark Finished</Button>)}\n                                    <Col sm={1}></Col>\n                                </Row>\n                                <Row>\n                                    <Col sm={1}></Col>\n                                    <Col>\n                                    {loadIn.finished ? (loadIn.finishedBy)\n                                    : (<></>)}\n                                    </Col>\n                                    <Col sm={1}></Col>\n                                </Row>\n                            </Col>\n                        </Row>\n                    )\n                }\n\n                <h4 className=\"border-bottom-custom\">Materials</h4>\n                {this.state.materials.map(\n                        material =>\n                        <>\n                        <p>material {material.name}</p>\n                        <p>material cost {material.cost}</p>\n                        <p>material amount required {material.amountRequired}</p>\n                        <p>vendor {material.vendor}</p>\n                        </>\n                    )\n                } \n                \n\n            </Container>\n        )\n    }\n}\n\nexport default UnitComponent"]},"metadata":{},"sourceType":"module"}