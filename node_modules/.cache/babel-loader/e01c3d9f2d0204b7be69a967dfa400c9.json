{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'react-bootstrap/Container';import Button from'react-bootstrap/Button';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Table from'react-bootstrap/Table';import Modal from'react-bootstrap/Modal';import ModalHeader from'react-bootstrap/ModalHeader';import ModalFooter from'react-bootstrap/ModalFooter';import ModalTitle from'react-bootstrap/ModalTitle';import ModalBody from'react-bootstrap/ModalBody';import Form from'react-bootstrap/Form';import ProjectService from'../service/ProjectService.jsx';var StaffComponent=/*#__PURE__*/function(_Component){_inherits(StaffComponent,_Component);var _super=_createSuper(StaffComponent);function StaffComponent(props){var _this;_classCallCheck(this,StaffComponent);_this=_super.call(this,props);_this.state={staff:[],showModal:false,username:'',owner:false,errorMessage:'',showErrorMessage:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.refreshStaff=_this.refreshStaff.bind(_assertThisInitialized(_this));_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.addStaffClicked=_this.addStaffClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(StaffComponent,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));console.log(this.state.username);}},{key:\"componentDidMount\",value:function componentDidMount(){this.refreshStaff();}},{key:\"refreshStaff\",value:function refreshStaff(){var _this2=this;ProjectService.retrieveStaff(this.props.match.params.id).then(function(response){_this2.setState({staff:response.data});});}},{key:\"addStaffClicked\",value:function addStaffClicked(){var _this3=this;console.log(\"add staff\");ProjectService.addStaffToProject(this.state.username,this.props.match.params.id,this.state.owner).then(function(response){if(response.data.success){_this3.refreshStaff();_this3.setState({showModal:!_this3.state.showModal});console.log(\"added staff successfully\");_this3.setState({showErrorMessage:false});}else{console.log(\"failed to add staff\");_this3.setState({showErrorMessage:true});_this3.setState({errorMessage:\"Failed to Add Staff\"});}}).catch(function(){console.log(\"error adding staff\");_this3.setState({showErrorMessage:true});_this3.setState({errorMessage:\"Error Adding Staff\"});});}},{key:\"toggle\",value:function toggle(){this.setState({showModal:!this.state.showModal});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Container,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"border-bottom-custom\",children:\"Staff\"}),this.props.location.state.owner&&/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{xs:2}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:this.toggle,children:\"Add User to Show\"})}),/*#__PURE__*/_jsx(Col,{xs:2})]}),/*#__PURE__*/_jsxs(Modal,{show:this.state.showModal,children:[/*#__PURE__*/_jsx(ModalHeader,{closeButton:true,onClick:this.toggle,children:/*#__PURE__*/_jsx(ModalTitle,{children:\"Add User\"})}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",name:\"username\",value:this.state.username,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"formBasicCheckbox\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Project Owner?\",name:\"owner\",value:this.state.owner,onChange:this.handleChange})})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:this.toggle,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:this.addStaffClicked,children:\"Add User!\"})]})]}),/*#__PURE__*/_jsxs(Table,{className:\"mt-3\",striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Owner\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.staff.map(function(staff){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:staff.username}),/*#__PURE__*/_jsx(\"td\",{children:staff.owner?'Project Owner':'Staff Member'})]});})})]})]});}}]);return StaffComponent;}(Component);export default StaffComponent;","map":{"version":3,"sources":["/Users/garrettchristian/DocumentsDesktop/csSeniorYear/isTHEA/budget_estimate_front_end/src/component/StaffComponent.jsx"],"names":["React","Component","Container","Button","Row","Col","Table","Modal","ModalHeader","ModalFooter","ModalTitle","ModalBody","Form","ProjectService","StaffComponent","props","state","staff","showModal","username","owner","errorMessage","showErrorMessage","handleChange","bind","refreshStaff","toggle","addStaffClicked","event","setState","target","name","value","console","log","retrieveStaff","match","params","id","then","response","data","addStaffToProject","success","catch","location","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container'\nimport Button from 'react-bootstrap/Button'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Table from 'react-bootstrap/Table'\nimport Modal from 'react-bootstrap/Modal'\nimport ModalHeader from 'react-bootstrap/ModalHeader'\nimport ModalFooter from 'react-bootstrap/ModalFooter'\nimport ModalTitle from 'react-bootstrap/ModalTitle'\nimport ModalBody from 'react-bootstrap/ModalBody'\nimport Form from 'react-bootstrap/Form'\nimport ProjectService from '../service/ProjectService.jsx'\n\nclass StaffComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            staff: [],\n            showModal: false,\n            username: '',\n            owner: false,\n            errorMessage: '',\n            showErrorMessage: false\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.refreshStaff = this.refreshStaff.bind(this)\n        this.toggle = this.toggle.bind(this);\n        this.addStaffClicked = this.addStaffClicked.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState(\n            {[event.target.name]: event.target.value}\n        )\n        console.log(this.state.username)\n    }\n\n    componentDidMount() {\n        this.refreshStaff();\n    }\n\n    refreshStaff() {\n        ProjectService.retrieveStaff(this.props.match.params.id)\n            .then(\n                response => {\n                    this.setState({ staff: response.data })\n                }\n            )\n    }\n\n    addStaffClicked() {\n        console.log(\"add staff\")\n        ProjectService.addStaffToProject(this.state.username, \n            this.props.match.params.id, \n            this.state.owner)\n            .then((response) => {\n                if (response.data.success) {\n                    this.refreshStaff();\n                    this.setState({showModal: !this.state.showModal});\n                    console.log(\"added staff successfully\")\n                    this.setState({ showErrorMessage: false })\n                } else {\n                    console.log(\"failed to add staff\")\n                    this.setState({ showErrorMessage: true })\n                    this.setState({errorMessage: \"Failed to Add Staff\"})\n                }\n                \n            }).catch(() => {\n                console.log(\"error adding staff\")\n                this.setState({ showErrorMessage: true })\n                this.setState({errorMessage: \"Error Adding Staff\"})\n            })\n    }\n\n    toggle() {\n        this.setState({showModal: !this.state.showModal});\n    }\n\n    render() {\n        return (\n            <Container className=\"mt-3\">\n                \n                <h2 className=\"border-bottom-custom\">Staff</h2>\n\n                {this.props.location.state.owner && \n                <Row className=\"mt-3\">\n                    <Col xs={2}/>\n                    <Col>\n                        <Button block onClick={this.toggle}>Add User to Show</Button>\n                    </Col>\n                    <Col xs={2}/>\n                </Row>\n                }\n\n                <Modal show={this.state.showModal}>\n                    <ModalHeader closeButton onClick={this.toggle}>\n                    <ModalTitle>Add User</ModalTitle>\n                    </ModalHeader>\n                    <ModalBody>\n                        <Form>\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Label>Email address</Form.Label>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\"\n                            name=\"username\" value={this.state.username}\n                            onChange={this.handleChange}/>\n                        </Form.Group>\n                        <Form.Group controlId=\"formBasicCheckbox\">\n                            <Form.Check type=\"checkbox\" label=\"Project Owner?\"\n                            name=\"owner\" value={this.state.owner}\n                            onChange={this.handleChange}/>\n                        </Form.Group>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                    <Button variant=\"secondary\" onClick={this.toggle}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={this.addStaffClicked}>\n                        Add User!\n                    </Button>\n                    </ModalFooter>\n                </Modal>\n\n                <Table className=\"mt-3\" striped bordered hover>\n                <thead>\n                    <tr>\n                    <th>Username</th>\n                    <th>Owner</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {this.state.staff.map(\n                            staff =>\n                            <tr>\n                            <td>{staff.username}</td>\n                            <td>{(staff.owner ? 'Project Owner' : 'Staff Member')}</td>                       \n                            </tr>\n                        )\n                    } \n                </tbody>\n                </Table>\n\n            </Container>\n        )\n    }\n}\n\nexport default StaffComponent"]},"metadata":{},"sourceType":"module"}